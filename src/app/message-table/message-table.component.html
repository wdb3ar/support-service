<table mat-table [dataSource]="messages$" cdkDropList (cdkDropListDropped)="drop($event)">
  <caption class="mat-title">{{getTitle()}}</caption>
  
  <ng-container matColumnDef="summary">
    <th mat-header-cell *matHeaderCellDef> Summary </th>
    <td mat-cell *matCellDef="let element"> {{element.summary}} </td>
  </ng-container>

  <ng-container matColumnDef="from">
    <th mat-header-cell *matHeaderCellDef> From email </th>
    <td mat-cell *matCellDef="let element"> {{element.from}} </td>
  </ng-container>

  <ng-container matColumnDef="date">
    <th class="date-cell" mat-header-cell *matHeaderCellDef> Date </th>
    <td class="date-cell" mat-cell *matCellDef="let element"> {{element.date | date:"short"}} </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;" [attr.data-id]="row.id" cdkDrag [cdkDragDisabled]="category"></tr>
</table>